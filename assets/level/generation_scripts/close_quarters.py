import level
import pre_builts

#Note
note = "generated by close_quarters.py"

scale = 68

#Settings
title = "Close Quarters"
width = scale * 16
height = scale * 9
mirrored = False

#Init
lev = level.Level(title, width, height, mirrored)



def add_vertical_bar(xLeft, xRight, yBottom, mirror = False):
    lev.add_obstacle(xLeft, xRight, yBottom, yBottom + 30, mirror)


def add_horizontal_bar(xLeft, yBottom, yTop, mirror = False):
    lev.add_obstacle(xLeft, xLeft + 30, yBottom, yTop, mirror)
'''
Outer Bounds
'''
#Floor
lev.add_obstacle(-20, width + 20, height - 20, height + 20)
#Ceiling
lev.add_obstacle(-20, width + 20, -20, 20)
#Walls
lev.add_obstacle(-20, 20, -20, height + 20, mirror = True)


'''
Top portion
'''


# add_vertical_bar(0, 400, 435, mirror = True)


def render_complex(yPos):
    xBox = 140
    wBox = 255

    distance = 250

    add_vertical_bar(xBox, xBox + wBox, yPos, mirror = True)

    add_vertical_bar(xBox, xBox + wBox, yPos + distance, mirror = True)

    add_horizontal_bar(xBox, yPos + 10, yPos + distance + 30, mirror = True)

    add_vertical_bar(width/2 - 75, width/2 + 75, yPos + distance/2.0, mirror = True)


    lev.add_box_spawn(width/2, yPos + distance/2.0 - 30, ["flame"])

    lev.add_box_spawn(xBox + wBox/3.0, yPos + distance - 30, ["bounce"], mirror = True)

render_complex(166)


#Spawns
for i in range(4):
    lev.add_player_spawn(width/2 + (1 if i%2 > 0 else -1) * (width/2 - 100), height - 100)
    #lev.add_player_spawn(width/2 + (1 if i > 0 else -1) * (width/2 - 150), 150)

print "Saving complex..."
lev.save("../close_quarters.json", note = note)